<!DOCTYPE html>
<html lang="en" class="antialiased bg-neutral-950">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <title>Saints Run Club — Collection & Archive</title>
    <meta name="description" content="A creative athletic portfolio landing page concept.">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&amp;display=swap" rel="stylesheet">
    <link href="https://api.fontshare.com/v2/css?f[]=clash-display@400,500,600&amp;display=swap" rel="stylesheet">

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Configuration -->
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ["Inter", "system-ui", "sans-serif"],
              display: ["Clash Display", "system-ui", "sans-serif"],
            },
            colors: {
                neutral: {
                    925: '#0f0f0f',
                }
            },
            animation: {
                'spin-slow': 'spin 60s linear infinite',
                'spin-reverse-slower': 'spin 80s linear infinite reverse',
            },
            letterSpacing: {
                tightest: '-.075em',
            }
          },
        },
        plugins: [
          function ({ addUtilities }) {
            addUtilities({
              ".perspective-1000": { perspective: "1000px" },
              ".transform-style-3d": { "transform-style": "preserve-3d" },
              ".backface-hidden": { "backface-visibility": "hidden", "-webkit-backface-visibility": "hidden" },
              ".rotate-y-0": { transform: "rotateY(0deg)" },
              ".rotate-y-180": { transform: "rotateY(180deg)" },
              ".rotate-y-90": { transform: "rotateY(90deg)" },
              ".rotate-y-neg-90": { transform: "rotateY(-90deg)" },
            });
          },
        ],
      };
    </script>

    <style>
      :root {
        --font-sans: "Inter", system-ui, sans-serif;
        --font-display: "Clash Display", system-ui, sans-serif;
      }

      body {
        font-family: var(--font-sans);
        background-color: #0a0a0a;
        /* improved scrolling performance */
        overflow-x: hidden;
      }

      /* Scrollbar */
      ::-webkit-scrollbar { width: 0px; background: transparent; }
      .no-scrollbar::-webkit-scrollbar { display: none; }
      .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

      /* Animation Primitives */
      @keyframes slide-up-fade {
        0% { opacity: 0; transform: translateY(40px); }
        100% { opacity: 1; transform: translateY(0); }
      }
      @keyframes gentle-scale {
        0% { opacity: 0; transform: scale(0.95); }
        100% { opacity: 1; transform: scale(1); }
      }
      .animate-text-reveal { animation: slide-up-fade 1.2s cubic-bezier(0.16, 1, 0.3, 1) forwards; opacity: 0; }
      .animate-emblem-reveal { animation: gentle-scale 1.8s cubic-bezier(0.19, 1, 0.22, 1) forwards; opacity: 0; }
      
      .delay-100 { animation-delay: 0.1s; }
      .delay-200 { animation-delay: 0.2s; }
      .delay-300 { animation-delay: 0.3s; }
      .delay-500 { animation-delay: 0.5s; }
      
      /* GPU Acceleration helpers */
      .will-change-transform { will-change: transform, opacity; }
      .hardware-accel { transform: translateZ(0); }

      /* 3D Scene */
      .vertical-text { writing-mode: vertical-rl; text-orientation: mixed; }
      .vhs-scene { perspective: 1500px; }
      .vhs-case { transform-style: preserve-3d; transition: transform 0.6s cubic-bezier(0.2, 0.8, 0.2, 1); }

      /* Texture */
      .distress {
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.15'/%3E%3C/svg%3E");
        mix-blend-mode: overlay;
        pointer-events: none;
      }

      /* Masonry */
      .masonry-grid { column-count: 1; column-gap: 1.5rem; }
      @media (min-width: 768px) { .masonry-grid { column-count: 2; } }
      @media (min-width: 1024px) { .masonry-grid { column-count: 3; } }
      .break-inside-avoid { break-inside: avoid; }

      /* Intro Animation */
      .intro-emblem-container {
        position: absolute; z-index: 50; background-color: #0a0a0a;
      }
      @media (min-width: 1024px) {
        .intro-emblem-container {
          right: 0; top: 0; bottom: 0;
          animation: intro-slide-desktop 2.2s cubic-bezier(0.76, 0, 0.24, 1) forwards;
        }
        @keyframes intro-slide-desktop {
          0% { width: 100%; } 40% { width: 100%; } 100% { width: 50%; }
        }
      }
      @media (max-width: 1023px) {
        .intro-emblem-container {
          left: 0; right: 0; bottom: 0; width: 100%;
          border-top: 1px solid rgba(255,255,255,0.05);
          animation: intro-slide-mobile 2.2s cubic-bezier(0.76, 0, 0.24, 1) forwards;
        }
        @keyframes intro-slide-mobile {
          0% { height: 100%; border-top-width: 0px; } 
          40% { height: 100%; } 
          100% { height: 45vh; border-top-width: 1px; }
        }
      }

      .delay-2000 { animation-delay: 2.3s; }
      .delay-2100 { animation-delay: 2.4s; }
      .delay-2200 { animation-delay: 2.5s; }
      .delay-2300 { animation-delay: 2.6s; }
      .delay-2500 { animation-delay: 2.8s; }

      .animate-emblem-reveal { animation-delay: 0.1s; }
    </style>
  </head>
  <body class="bg-neutral-950 text-neutral-100 overflow-x-hidden selection:bg-yellow-500/30">
    
    <!-- SCROLL TRACK - Removed Snap Points for smooth physics -->
    <div class="w-full relative pointer-events-none z-0" style="height: 400vh;"></div>

    <!-- Navigation -->
    <header class="fixed top-0 w-full z-50 p-6 md:p-8 flex items-center justify-between mix-blend-exclusion pointer-events-none">
      <a href="#" class="group flex items-center gap-3 pointer-events-auto">
        <div class="relative w-8 h-8 flex items-center justify-center border border-white/30 rounded-full group-hover:border-white/60 transition-colors">
          <i data-lucide="menu" class="w-4 h-4"></i>
        </div>
        <span class="font-mono text-xs tracking-widest uppercase hidden sm:block opacity-0 group-hover:opacity-100 transition-opacity -translate-x-2 group-hover:translate-x-0 duration-300">
          Menu
        </span>
      </a>

      <div class="flex items-center gap-2 pointer-events-auto">
        <div class="flex gap-1 bg-white/10 border-white/30 border rounded-full p-1 backdrop-blur-md items-center shadow-[0_0_20px_rgba(255,255,255,0.1)]">
          <button class="w-8 h-8 rounded-full hover:bg-white/10 flex items-center justify-center transition-colors">
            <i data-lucide="instagram" class="w-4 h-4"></i>
          </button>
          <button class="w-8 h-8 rounded-full hover:bg-white/10 flex items-center justify-center transition-colors">
            <i data-lucide="music-2" class="w-4 h-4"></i>
          </button>
          <button class="w-8 h-8 rounded-full hover:bg-white/10 flex items-center justify-center transition-colors">
            <i data-lucide="activity" class="w-4 h-4"></i>
          </button>
        </div>
      </div>
    </header>

    <!-- Roadmap (Hidden on Mobile) -->
    <div id="roadmap" class="fixed right-6 md:right-8 top-1/2 -translate-y-1/2 z-50 hidden md:flex flex-col items-end gap-8 pointer-events-none mix-blend-difference">
      <div class="absolute right-[5px] top-2 bottom-2 w-px bg-white/20 -z-10"></div>
      <button class="roadmap-item group relative flex items-center gap-4 pointer-events-auto focus:outline-none" onclick="window.scrollTo({top: 0, behavior: 'smooth'})" data-index="0">
        <span class="text-[9px] font-mono uppercase tracking-widest text-neutral-400 opacity-0 -translate-x-4 transition-all duration-300 group-[.active]:opacity-100 group-[.active]:translate-x-0">Start</span>
        <div class="w-3 h-3 flex items-center justify-center">
          <div class="dot w-1.5 h-1.5 rounded-full bg-neutral-600 transition-all duration-500 group-[.active]:bg-yellow-500 group-[.active]:scale-[2] shadow-[0_0_10px_rgba(234,179,8,0.5)]"></div>
        </div>
      </button>
      <button class="roadmap-item group relative flex items-center gap-4 pointer-events-auto focus:outline-none" onclick="window.scrollTo({top: window.innerHeight, behavior: 'smooth'})" data-index="1">
        <span class="text-[9px] font-mono uppercase tracking-widest text-neutral-400 opacity-0 -translate-x-4 transition-all duration-300 group-[.active]:opacity-100 group-[.active]:translate-x-0">Philosophy</span>
        <div class="w-3 h-3 flex items-center justify-center">
          <div class="dot w-1.5 h-1.5 rounded-full bg-neutral-600 transition-all duration-500 group-[.active]:bg-yellow-500 group-[.active]:scale-[2] shadow-[0_0_10px_rgba(234,179,8,0.5)]"></div>
        </div>
      </button>
      <button class="roadmap-item group relative flex items-center gap-4 pointer-events-auto focus:outline-none" onclick="window.scrollTo({top: window.innerHeight * 2, behavior: 'smooth'})" data-index="2">
        <span class="text-[9px] font-mono uppercase tracking-widest text-neutral-400 opacity-0 -translate-x-4 transition-all duration-300 group-[.active]:opacity-100 group-[.active]:translate-x-0">Events</span>
        <div class="w-3 h-3 flex items-center justify-center">
          <div class="dot w-1.5 h-1.5 rounded-full bg-neutral-600 transition-all duration-500 group-[.active]:bg-yellow-500 group-[.active]:scale-[2] shadow-[0_0_10px_rgba(234,179,8,0.5)]"></div>
        </div>
      </button>
      <button class="roadmap-item group relative flex items-center gap-4 pointer-events-auto focus:outline-none" onclick="window.scrollTo({top: window.innerHeight * 3, behavior: 'smooth'})" data-index="3">
        <span class="text-[9px] font-mono uppercase tracking-widest text-neutral-400 opacity-0 -translate-x-4 transition-all duration-300 group-[.active]:opacity-100 group-[.active]:translate-x-0">Vision</span>
        <div class="w-3 h-3 flex items-center justify-center">
          <div class="dot w-1.5 h-1.5 rounded-full bg-neutral-600 transition-all duration-500 group-[.active]:bg-yellow-500 group-[.active]:scale-[2] shadow-[0_0_10px_rgba(234,179,8,0.5)]"></div>
        </div>
      </button>
    </div>

    <!-- HERO SECTION -->
    <section id="hero-section" class="fixed inset-0 w-full h-[100dvh] flex flex-col lg:flex-row z-10 bg-neutral-950 will-change-transform hardware-accel">
      <div class="absolute inset-0 pointer-events-none z-0 opacity-20">
        <div class="absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0IiBoZWlnaHQ9IjQiPgo8cmVjdCB3aWR0aD0iNCIgaGVpZ2h0PSI0IiBmaWxsPSIjMDAwIi8+CjxyZWN0IHdpZHRoPSIxIiBoZWlnaHQ9IjEiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC4xKSIvPgo8L3N2Zz4=')]"></div>
      </div>

      <!-- Text Content -->
      <div class="w-full lg:w-1/2 flex-1 lg:flex-auto flex flex-col justify-between p-6 md:p-12 lg:p-16 pt-32 lg:pt-16 relative z-20">
        <div class="flex items-center gap-4 animate-text-reveal delay-2000">
          <span class="font-mono text-[10px] md:text-xs text-white/40 uppercase tracking-widest">Est. 2025</span>
          <div class="h-px w-8 bg-white/10"></div>
          <span class="font-mono text-[10px] md:text-xs text-white/80 tracking-widest uppercase">Astoria, Queens NYC</span>
        </div>

        <div class="flex flex-col justify-center my-8 lg:my-0">
          <h1 class="font-medium uppercase leading-[0.8] tracking-tightest text-white font-display">
            <div class="overflow-hidden"><span class="block text-[16vw] lg:text-[9vw] animate-text-reveal delay-2100">Saints</span></div>
            <div class="overflow-hidden"><span class="block text-[16vw] lg:text-[9vw] animate-text-reveal delay-2200">Run</span></div>
            <div class="overflow-hidden"><span class="block text-[16vw] lg:text-[9vw] animate-text-reveal text-yellow-500 delay-2300">Club</span></div>
          </h1>
          <p class="mt-6 md:mt-8 text-neutral-400 max-w-md text-xs md:text-sm font-light leading-relaxed animate-text-reveal delay-2500">
            Earn your wings. Find your fast. A collective dedicated to the pursuit of personal bests and community spirit.
          </p>
        </div>
      </div>

      <!-- Emblem -->
      <div class="intro-emblem-container w-full lg:w-1/2 relative overflow-hidden bg-gradient-to-t lg:bg-gradient-to-r from-neutral-950 via-neutral-900/30 to-neutral-900/50">
        <div class="absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-neutral-800/20 via-neutral-900/40 to-neutral-950 opacity-60"></div>
        <div class="absolute inset-0 flex items-center justify-center opacity-10 pointer-events-none">
          <div class="w-px h-full bg-gradient-to-b from-transparent via-white/20 to-transparent mx-12"></div>
          <div class="w-px h-full bg-gradient-to-b from-transparent via-white/20 to-transparent mx-12"></div>
        </div>
        <div class="absolute inset-0 flex items-center justify-center p-8 pb-12 lg:pb-8 animate-emblem-reveal">
          <div class="relative w-full max-w-[300px] lg:max-w-xl aspect-square flex items-center justify-center">
            <img src="https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/06b116a1-9ad0-4968-9c7a-bd59c8b85724_3840w.png" alt="Winged Foot" class="w-full h-full object-contain drop-shadow-2xl opacity-100 p-4 lg:p-0">
            <div class="absolute inset-0 m-auto w-[90%] h-[90%] border border-white/5 rounded-full -z-10 animate-spin-slow"></div>
            <div class="absolute inset-0 m-auto w-[120%] h-[120%] border border-white/5 rounded-full -z-20 border-dashed animate-spin-reverse-slower"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- PHILOSOPHY SECTION -->
    <section id="content-section" class="fixed inset-0 w-full h-full z-20 bg-neutral-950 overflow-hidden pointer-events-none will-change-transform flex flex-col hardware-accel opacity-0" style="transform: scale(0.96);">
      <div class="w-full overflow-hidden border-b border-white/5 bg-neutral-950 py-12 md:py-16 relative flex-shrink-0">
        <div class="absolute inset-0 flex items-center justify-center pointer-events-none z-10 mix-blend-overlay">
          <div class="w-full h-full bg-[radial-gradient(circle_at_center,_transparent_0%,_#0a0a0a_100%)]"></div>
        </div>
        <h2 class="text-[12vw] md:text-[10vw] leading-none font-medium uppercase text-center whitespace-nowrap text-white/5 font-display select-none tracking-tightest">
          Saints Run Club
        </h2>
        <div class="absolute inset-0 flex items-center justify-center z-20">
          <span class="inline-block px-4 py-1 rounded-full border border-white/10 bg-neutral-900/50 backdrop-blur-sm text-xs font-mono uppercase tracking-widest text-neutral-300">
            The Philosophy
          </span>
        </div>
      </div>

      <div class="flex-grow grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 divide-y md:divide-y-0 md:divide-x divide-white/5 overflow-y-auto">
        <div class="flex flex-col justify-between p-8 bg-neutral-950/50">
          <div class="space-y-8">
            <div class="w-8 h-8 rounded-full bg-yellow-500/10 flex items-center justify-center">
              <i data-lucide="crosshair" class="w-4 h-4 text-yellow-500"></i>
            </div>
            <div class="space-y-4">
              <p class="text-sm leading-relaxed text-neutral-400 font-light">
                <strong class="text-white font-medium">No One Left Behind.</strong> We regroup at lights and turns. We start together, we finish together.
              </p>
            </div>
          </div>
          <div class="mt-8 opacity-30">
            <h3 class="font-display font-semibold text-5xl text-white tracking-tightest">SRC</h3>
          </div>
        </div>

        <div class="relative group overflow-hidden min-h-[300px]">
          <img src="https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/917d6f93-fb36-439a-8c48-884b67b35381_1600w.jpg" alt="Focus" class="absolute inset-0 w-full h-full object-cover grayscale brightness-75 contrast-125 transition-transform duration-700 ease-out group-hover:scale-105">
          <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent opacity-60"></div>
        </div>

        <div class="flex flex-col justify-between p-8 bg-neutral-950/50">
          <div class="space-y-8">
            <div class="w-8 h-8 rounded-full bg-white/5 flex items-center justify-center">
              <i data-lucide="zap" class="w-4 h-4 text-white"></i>
            </div>
            <div class="space-y-4">
              <p class="text-sm leading-relaxed text-neutral-400 font-light">
                <strong class="text-white font-medium">Building Speed.</strong> Join us for structured speed work every Wednesday. All paces welcome.
              </p>
            </div>
          </div>
          <div class="mt-8 flex items-center gap-3">
            <div class="h-px w-8 bg-yellow-500"></div>
            <span class="text-xs font-mono uppercase tracking-widest text-yellow-500">Join Us</span>
          </div>
        </div>

        <div class="relative group overflow-hidden min-h-[300px]">
          <img src="https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/4734259a-bad7-422f-981e-ce01e79184f2_1600w.jpg" alt="Community" class="absolute inset-0 w-full h-full object-cover brightness-90 saturate-0 group-hover:saturate-100 transition-all duration-700 ease-out group-hover:scale-105">
          <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent opacity-60"></div>
        </div>
      </div>
    </section>

    <!-- ARCHIVE SECTION -->
    <section id="archive-section" class="fixed inset-0 w-full h-full z-30 bg-neutral-950 flex flex-col items-center justify-center opacity-0 pointer-events-none will-change-transform hardware-accel" style="transform: scale(0.96);">
      <div class="absolute top-0 w-full px-6 py-20 md:py-8 flex justify-between items-center z-20 border-b border-white/5 bg-neutral-950/90 backdrop-blur-sm">
        <h1 class="text-xs tracking-[0.2em] text-neutral-100 font-medium font-mono">
          <span class="text-yellow-500 font-sans pr-1">The</span> EVENTS ARCHIVE
        </h1>
        <div class="text-[10px] tracking-widest opacity-60 font-mono hidden md:block">SEASON 2023 — 2025</div>
      </div>

      <main class="w-full h-full flex items-center justify-center perspective-1000 overflow-hidden relative">
        <div class="relative w-full h-[500px] flex items-center justify-center gap-4 px-8 overflow-visible" id="gallery-container">
          <!-- Injected via JS -->
        </div>

        <div class="absolute bottom-0 left-0 w-full pb-8 pt-12 bg-gradient-to-t from-neutral-950 via-neutral-950/95 to-transparent z-30 flex flex-col items-center justify-end pointer-events-none">
          <div class="w-full max-w-4xl flex justify-between px-6 mb-8 pointer-events-auto">
            <button class="p-3 rounded-full bg-neutral-900/50 hover:bg-neutral-800 border border-white/10 transition text-neutral-400 hover:text-white" id="prev-btn">
              <i data-lucide="arrow-left" class="w-5 h-5"></i>
            </button>
            <button class="p-3 rounded-full bg-neutral-900/50 hover:bg-neutral-800 border border-white/10 transition text-neutral-400 hover:text-white" id="next-btn">
              <i data-lucide="arrow-right" class="w-5 h-5"></i>
            </button>
          </div>
          <div class="text-center space-y-2 pointer-events-auto transition-all duration-500 px-4" id="info-panel">
            <h2 class="text-3xl md:text-4xl font-semibold text-white tracking-tight font-display" id="event-title">Saturday Long Run</h2>
            <div class="flex items-center justify-center gap-3 text-[10px] tracking-widest text-yellow-500/90 font-mono uppercase">
              <span id="event-loc">The Waterfront</span>
              <span class="w-1 h-1 rounded-full bg-neutral-700"></span>
              <span id="event-date">Weekly</span>
            </div>
          </div>
        </div>
      </main>
    </section>

    <!-- COMMUNITY SECTION -->
    <section id="community-section" class="fixed inset-0 w-full h-full z-40 bg-neutral-950 flex flex-col opacity-0 pointer-events-none will-change-transform hardware-accel overflow-hidden" style="transform: scale(0.96);">
      <div class="w-full flex-shrink-0 pt-24 pb-4 px-6 flex flex-col items-center justify-center z-10 bg-neutral-950/95 border-b border-white/5">
        <h2 class="text-4xl font-display font-semibold text-white tracking-tightest mb-1">The Vision</h2>
        <p class="text-neutral-500 text-[10px] font-mono uppercase tracking-widest">Captured by the Club</p>
      </div>

      <div class="w-full h-full overflow-y-auto px-1 pb-32 pt-1 bg-neutral-950">
        <div class="w-full max-w-7xl mx-auto columns-2 md:columns-3 lg:columns-4 gap-1 space-y-1">
          <!-- Masonry Items simplified for perf -->
          <div class="break-inside-avoid relative group overflow-hidden bg-neutral-900">
            <img loading="lazy" src="https://images.unsplash.com/photo-1571008887538-b36bb32f4571?q=80&w=400&fit=crop" class="w-full h-auto opacity-70 group-hover:opacity-100 transition-opacity">
          </div>
          <div class="break-inside-avoid relative group overflow-hidden bg-neutral-900">
            <img loading="lazy" src="https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/c543a9e1-f226-4ced-80b0-feb8445a75b9_1600w.jpg" class="w-full h-auto opacity-70 group-hover:opacity-100 transition-opacity">
          </div>
          <div class="break-inside-avoid relative group overflow-hidden bg-neutral-900">
            <img loading="lazy" src="https://images.unsplash.com/photo-1532444458054-01a7dd3e9fca?q=80&w=400&fit=crop" class="w-full h-auto opacity-70 group-hover:opacity-100 transition-opacity">
          </div>
          <div class="break-inside-avoid relative group overflow-hidden bg-neutral-900 aspect-[4/5]">
            <img loading="lazy" src="https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/5bab247f-35d9-400d-a82b-fd87cfe913d2_1600w.webp" class="w-full h-full object-cover opacity-70 group-hover:opacity-100 transition-opacity">
          </div>
          <div class="break-inside-avoid relative group overflow-hidden bg-neutral-900">
            <img loading="lazy" src="https://images.unsplash.com/photo-1551972251-12070d63502a?q=80&w=400&fit=crop" class="w-full h-auto opacity-70 group-hover:opacity-100 transition-opacity">
          </div>
          <div class="break-inside-avoid relative group overflow-hidden bg-neutral-900 aspect-square">
            <img loading="lazy" src="https://images.unsplash.com/photo-1541534741688-6078c6bfb5c5?q=80&w=400&fit=crop" class="w-full h-full object-cover opacity-70 group-hover:opacity-100 transition-opacity">
          </div>
          <div class="break-inside-avoid relative group overflow-hidden bg-neutral-900">
            <img loading="lazy" src="https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/30104e3c-5eea-4b93-93e9-5313698a7156_1600w.webp" class="w-full h-auto opacity-70 group-hover:opacity-100 transition-opacity">
          </div>
          <div class="break-inside-avoid relative group overflow-hidden bg-neutral-900">
            <img loading="lazy" src="https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/917d6f93-fb36-439a-8c48-884b67b35381_1600w.jpg" class="w-full h-auto opacity-70 group-hover:opacity-100 transition-opacity">
          </div>
        </div>
      </div>
    </section>

    <script>
      lucide.createIcons();

      /* OPTIMIZED SCROLL LOGIC */
      const sections = [
        document.getElementById("hero-section"),
        document.getElementById("content-section"),
        document.getElementById("archive-section"),
        document.getElementById("community-section")
      ];
      const roadmapItems = document.querySelectorAll('.roadmap-item');
      let lastScrollY = -1;
      let ticking = false;
      const totalH = window.innerHeight * 4;

      function update() {
        const scrollY = window.scrollY;
        const h = window.innerHeight;
        
        // Calculate phases without excessive recalc
        // Phase 1: Hero -> Philosophy
        let p1 = (scrollY) / h;
        // Phase 2: Philosophy -> Archive
        let p2 = (scrollY - h) / h;
        // Phase 3: Archive -> Community
        let p3 = (scrollY - h * 2) / h;

        // Clamp values 0 to 1
        p1 = p1 < 0 ? 0 : (p1 > 1 ? 1 : p1);
        p2 = p2 < 0 ? 0 : (p2 > 1 ? 1 : p2);
        p3 = p3 < 0 ? 0 : (p3 > 1 ? 1 : p3);

        // HERO
        if (p1 > 0 && p1 < 1) {
            sections[0].style.opacity = 1 - p1;
            sections[0].style.transform = `scale(${1 - (p1 * 0.04)})`;
        } else if (p1 === 0) {
            sections[0].style.opacity = 1;
            sections[0].style.transform = `scale(1)`;
        } else {
            sections[0].style.opacity = 0;
        }

        // PHILOSOPHY
        if (scrollY < h) {
            // Fading in
            sections[1].style.opacity = p1;
            sections[1].style.transform = `scale(${0.96 + (p1 * 0.04)})`;
        } else {
            // Fading out
            sections[1].style.opacity = 1 - p2;
            sections[1].style.transform = `scale(${1 - (p2 * 0.04)})`;
        }

        // ARCHIVE
        if (scrollY < h * 2) {
            sections[2].style.opacity = p2;
            sections[2].style.transform = `scale(${0.96 + (p2 * 0.04)})`;
        } else {
            sections[2].style.opacity = 1 - p3;
            sections[2].style.transform = `scale(${1 - (p3 * 0.04)})`;
        }

        // COMMUNITY
        sections[3].style.opacity = p3;
        sections[3].style.transform = `scale(${0.96 + (p3 * 0.04)})`;

        // Pointer Events Optimization (Batch DOM writes)
        if (p1 > 0.8) sections[0].style.pointerEvents = 'none'; else sections[0].style.pointerEvents = 'auto';
        
        if (p1 > 0.5 && p2 < 0.5) sections[1].style.pointerEvents = 'auto'; else sections[1].style.pointerEvents = 'none';
        
        if (p2 > 0.5 && p3 < 0.5) sections[2].style.pointerEvents = 'auto'; else sections[2].style.pointerEvents = 'none';
        
        if (p3 > 0.5) sections[3].style.pointerEvents = 'auto'; else sections[3].style.pointerEvents = 'none';

        // Roadmap
        const activeIdx = Math.min(Math.floor((scrollY + h * 0.5) / h), 3);
        roadmapItems.forEach(item => {
            if(parseInt(item.dataset.index) === activeIdx) item.classList.add('active');
            else item.classList.remove('active');
        });

        ticking = false;
      }

      window.addEventListener("scroll", () => {
        if (!ticking) {
          window.requestAnimationFrame(update);
          ticking = true;
        }
      }, { passive: true });
      
      update(); // Initial call

      /* ARCHIVE CAROUSEL LOGIC */
      const events = [
          {
            id: 1,
            title: "Saturday Long Run",
            loc: "The Waterfront",
            date: "Weekly",
            desc: "Weekly 8–10 mile community run. Open to all paces.",
            color: "bg-blue-900",
            spineColor: "bg-blue-950",
            textColor: "text-blue-100",
            img: "https://images.unsplash.com/photo-1552674605-469523f54050?q=80&w=400&fit=crop"
          },
          {
            id: 2,
            title: "Speed Sessions",
            loc: "East High Track",
            date: "Weekly",
            desc: "Interval training to improve speed and efficiency.",
            color: "bg-red-900",
            spineColor: "bg-red-950",
            textColor: "text-red-100",
            img: "https://images.unsplash.com/photo-1532444458054-01a7dd3e9fca?q=80&w=400&fit=crop"
          },
          {
            id: 3,
            title: "Hispanic Heritage",
            loc: "Cholito Y Vino",
            date: "SEPT 2023",
            desc: "A vibrant 5K through the Latin Quarter.",
            color: "bg-orange-900",
            spineColor: "bg-orange-950",
            textColor: "text-orange-100",
            img: "https://images.unsplash.com/photo-1533561052604-c3beb6d55760?q=80&w=400&fit=crop"
          },
          {
            id: 4,
            title: "Foundation Run",
            loc: "City Loop",
            date: "OCT 2023",
            desc: "Charity run raising awareness and funds.",
            color: "bg-pink-900",
            spineColor: "bg-pink-950",
            textColor: "text-pink-100",
            img: "https://images.unsplash.com/photo-1565108035221-39447470c1fb?q=80&w=400&fit=crop"
          },
          {
            id: 5,
            title: "Night Lights",
            loc: "Downtown",
            date: "NOV 2023",
            desc: "A night run illuminating the streets.",
            color: "bg-purple-900",
            spineColor: "bg-purple-950",
            textColor: "text-purple-100",
            img: "https://images.unsplash.com/photo-1541625602330-2277a4c46182?q=80&w=400&fit=crop"
          }
      ];

      let activeIndex = 0;
      const container = document.getElementById('gallery-container');
      const titleEl = document.getElementById('event-title');
      const locEl = document.getElementById('event-loc');
      const dateEl = document.getElementById('event-date');

      function renderGallery() {
          container.innerHTML = '';
          events.forEach((evt, index) => {
              const isActive = index === activeIndex;
              const wrapper = document.createElement('div');
              // Reduced size slightly for mobile fit
              wrapper.className = `flip-wrapper relative cursor-pointer transition-all duration-500 ease-out vhs-scene flex-shrink-0 ` +
                                  (isActive ? 'w-[260px] md:w-[320px] z-20 mx-2 md:mx-6' : 'w-8 md:w-12 z-10 opacity-60 hover:opacity-100');
              wrapper.style.height = isActive ? '400px' : '360px';

              wrapper.onclick = () => {
                  if (activeIndex !== index) {
                      activeIndex = index;
                      renderGallery();
                      updateInfo();
                  }
              };

              const card = document.createElement('div');
              card.className = `vhs-case w-full h-full relative shadow-2xl`;
              card.style.transform = isActive ? '' : 'rotateY(-90deg)';

              // Front (Image)
              const front = document.createElement('div');
              front.className = `absolute inset-0 w-full h-full bg-neutral-900 overflow-hidden rounded-sm border-r border-white/10 backface-hidden`;
              front.innerHTML = `
                <img src="https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/4734259a-bad7-422f-981e-ce01e79184f2_1600w.jpg" class="w-full h-full object-cover opacity-80" alt="${evt.title}">
                <div class="absolute inset-0 bg-gradient-to-t from-black/90 to-transparent"></div>
                <div class="absolute bottom-8 left-6 right-6 z-10">
                   <h3 class="text-2xl font-display uppercase text-white leading-none mb-2 drop-shadow-md">${evt.title}</h3>
                </div>
              `;

              // Back (Desc) - Simplified for perf
              const back = document.createElement('div');
              back.className = `absolute inset-0 w-full h-full ${evt.color} overflow-hidden rounded-sm border border-white/10 backface-hidden rotate-y-180 flex flex-col p-6 items-center justify-center text-center`;
              back.innerHTML = `
                 <h3 class="font-display text-lg text-white mb-2">${evt.title}</h3>
                 <p class="text-xs font-light leading-relaxed text-white/80">${evt.desc}</p>
              `;

              // Spine
              const rightFace = document.createElement('div');
              rightFace.className = `absolute top-0 right-0 w-8 md:w-12 h-full ${evt.spineColor} origin-right rotate-y-90 flex flex-col items-center py-6 justify-between border-l border-white/10`;
              rightFace.innerHTML = `
                <span class="text-[8px] font-bold text-white/50">0${evt.id}</span>
                <h4 class="vertical-text text-[10px] md:text-xs font-medium tracking-widest uppercase ${evt.textColor} whitespace-nowrap">${evt.title}</h4>
                <span class="vertical-text text-[8px] text-white/40 font-mono">SRC</span>
              `;

              card.appendChild(front);
              card.appendChild(back);
              card.appendChild(rightFace);
              wrapper.appendChild(card);
              container.appendChild(wrapper);
          });
      }

      function updateInfo() {
          const evt = events[activeIndex];
          const panel = document.getElementById('info-panel');
          panel.style.opacity = '0';
          setTimeout(() => {
              titleEl.textContent = evt.title;
              locEl.textContent = evt.loc;
              dateEl.textContent = evt.date;
              panel.style.opacity = '1';
          }, 200);
      }

      document.getElementById('prev-btn').addEventListener('click', () => {
          if (activeIndex > 0) { activeIndex--; renderGallery(); updateInfo(); }
      });
      document.getElementById('next-btn').addEventListener('click', () => {
          if (activeIndex < events.length - 1) { activeIndex++; renderGallery(); updateInfo(); }
      });

      renderGallery();
    </script>
  </body>
</html>
